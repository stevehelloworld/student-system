# 系統設計文件（SYSTEM_DESIGN）

本文件說明學生出勤系統的架構、前後端分離設計與主要元件。

---

## 架構概覽

- 前端（Web & App）：React/Vue/Flutter 等框架，透過 RESTful API 與後端通訊。
- 後端：Node.js (Express)、Python (FastAPI/Django)、或其他支援 RESTful API 的框架。
- 資料庫：PostgreSQL/MySQL。
- API 授權：JWT Token 驗證。

---

## 前後端分離設計

- 前端僅負責 UI、資料顯示與 API 呼叫。
- 後端僅負責資料存取、業務邏輯與 API 驗證。
- 支援多平台（Web、App）。

---

## 主要元件

### 前端
- 使用者登入/註冊
- 學生出勤查詢、請假、補課
- 教師標記出勤、補課安排、請假管理
- 行動裝置友善設計

### 後端
- 使用者管理（Admin/教師/學生）
- 課程/班級與等級管理（支援自訂與預設等級）
- 課程與場次管理
- 出勤紀錄管理
- 請假申請與取消
- 補課安排與出席紀錄
- 權限控管與 API 驗證

---

## 資料流程

1. 前端登入，取得 JWT Token。
2. 前端以 Token 呼叫 API 取得/更新資料。
3. 後端驗證 Token，執行資料存取與邏輯處理。
4. 回傳結果給前端顯示。

---

## APP 支援

- 所有功能皆以 API 提供，方便行動裝置（iOS/Android）開發。
- 推薦使用 Flutter/React Native 實作 APP。

---

## 維運與安全性設計

- **日誌管理**：所有 API 請求、異常、登入失敗等皆記錄於日誌，便於追蹤與稽核。
- **異常處理**：後端統一錯誤處理機制，回傳標準錯誤格式。
- **API Rate Limit**：限制單一 IP 或帳號短時間內過多請求，防止暴力攻擊。
- **資料備份**：定期自動備份資料庫。

---

## 測試策略
- 單元測試（Unit Test）：涵蓋主要業務邏輯。
- 整合測試（Integration Test）：驗證 API 流程與資料正確性。
- 自動化測試：建議串接 CI 工具自動執行測試。

---

## CI/CD 與部署建議
- 推薦使用 GitHub Actions、GitLab CI 等工具自動化測試與部署。
- 建議採用 Docker 容器化部署，方便環境一致與擴展。
- 部署前自動執行測試，確保品質。
